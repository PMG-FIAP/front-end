const utils={validateForm:e=>{const t={};for(const[o,r]of e.entries())r.trim()||(t[o]="Este campo é obrigatório");if(e.get("email")){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.get("email"))||(t.email="Email inválido")}return{isValid:0===Object.keys(t).length,errors:t}},storage:{set:(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return console.error("Erro ao salvar no localStorage:",e),!1}},get:e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return console.error("Erro ao ler do localStorage:",e),null}},remove:e=>{try{return localStorage.removeItem(e),!0}catch(e){return console.error("Erro ao remover do localStorage:",e),!1}}},showMessage:(e,t="error")=>{const o=document.createElement("div");o.className=`message message-${t}`,o.textContent=e,document.body.appendChild(o),setTimeout((()=>{o.remove()}),3e3)},date:{formatDateTime:e=>new Date(e).toLocaleString("pt-BR")},geo:{calculateDistance:(e,t,o,r)=>{const s=(o-e)*Math.PI/180,a=(r-t)*Math.PI/180,n=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(o*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)))},calculateCenter:e=>({lat:e.reduce(((e,t)=>e+t.lat),0)/e.length,lng:e.reduce(((e,t)=>e+t.lng),0)/e.length})}};window.utils=utils,document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("form").forEach((e=>{e.addEventListener("submit",(function(e){e.preventDefault();const t=new FormData(this),o=utils.validateForm(t);o.isValid?(utils.showMessage("Mensagem enviada com sucesso! Em breve entraremos em contato.","success"),this.reset()):Object.entries(o.errors).forEach((([e,t])=>{const o=this.querySelector(`[name="${e}"]`);o&&(utils.showMessage(t),o.focus())}))}))}));const e=document.querySelectorAll(".faq-item");e.length>0&&e.forEach((t=>{t.querySelector(".faq-question").addEventListener("click",(()=>{const o=t.classList.contains("active");e.forEach((e=>{e.classList.remove("active")})),o||t.classList.add("active")}))}));const t=document.querySelector("header");window.scrollY;window.addEventListener("scroll",(function(){window.scrollY>60?t.classList.add("shrink"):t.classList.remove("shrink")}))}));