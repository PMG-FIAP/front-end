const utils={validateForm:e=>{const t={},r={nome:{required:!0,minLength:3,maxLength:100,pattern:/^[a-zA-ZÀ-ÿ\s]+$/,messages:{required:"O nome é obrigatório",minLength:"O nome deve ter pelo menos 3 caracteres",maxLength:"O nome deve ter no máximo 100 caracteres",pattern:"O nome deve conter apenas letras e espaços"}},email:{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,messages:{required:"O e-mail é obrigatório",pattern:"Digite um e-mail válido"}},assunto:{required:!0,minLength:5,maxLength:100,messages:{required:"O assunto é obrigatório",minLength:"O assunto deve ter pelo menos 5 caracteres",maxLength:"O assunto deve ter no máximo 100 caracteres"}},mensagem:{required:!0,minLength:10,maxLength:1e3,messages:{required:"A mensagem é obrigatória",minLength:"A mensagem deve ter pelo menos 10 caracteres",maxLength:"A mensagem deve ter no máximo 1000 caracteres"}}};for(const[a,s]of Object.entries(r)){const r=e.get(a)?.trim()||"";!s.required||r?s.minLength&&r.length<s.minLength?t[a]=s.messages.minLength:s.maxLength&&r.length>s.maxLength?t[a]=s.messages.maxLength:s.pattern&&!s.pattern.test(r)&&(t[a]=s.messages.pattern):t[a]=s.messages.required}return{isValid:0===Object.keys(t).length,errors:t}},storage:{set:(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return console.error("Erro ao salvar no localStorage:",e),!1}},get:e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return console.error("Erro ao ler do localStorage:",e),null}},remove:e=>{try{return localStorage.removeItem(e),!0}catch(e){return console.error("Erro ao remover do localStorage:",e),!1}}},showMessage:(e,t="error")=>{document.querySelectorAll(".message").forEach((e=>e.remove()));const r=document.createElement("div");r.className=`message message-${t}`,r.setAttribute("role","alert"),r.setAttribute("aria-live","polite");const a="success"===t?"✓":"!";r.innerHTML=`<span class="message-icon">${a}</span> ${e}`,document.body.appendChild(r),setTimeout((()=>r.classList.add("show")),10),setTimeout((()=>{r.classList.remove("show"),setTimeout((()=>r.remove()),300)}),5e3)},date:{formatDateTime:e=>new Date(e).toLocaleString("pt-BR")},geo:{calculateDistance:(e,t,r,a)=>{const s=(r-e)*Math.PI/180,n=(a-t)*Math.PI/180,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},calculateCenter:e=>({lat:e.reduce(((e,t)=>e+t.lat),0)/e.length,lng:e.reduce(((e,t)=>e+t.lng),0)/e.length})}};function validateField(e){const t=e.value.trim();let r=!0,a="";const s=e.parentElement.querySelector(".error-message");switch(s&&s.remove(),e.classList.remove("error"),e.name){case"nome":t?t.length<3?(r=!1,a="O nome deve ter pelo menos 3 caracteres"):t.length>100?(r=!1,a="O nome deve ter no máximo 100 caracteres"):/^[a-zA-ZÀ-ÿ\s]+$/.test(t)||(r=!1,a="O nome deve conter apenas letras e espaços"):(r=!1,a="O nome é obrigatório");break;case"email":t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(r=!1,a="Digite um e-mail válido"):(r=!1,a="O e-mail é obrigatório");break;case"assunto":t?t.length<5?(r=!1,a="O assunto deve ter pelo menos 5 caracteres"):t.length>100&&(r=!1,a="O assunto deve ter no máximo 100 caracteres"):(r=!1,a="O assunto é obrigatório");break;case"mensagem":t?t.length<10?(r=!1,a="A mensagem deve ter pelo menos 10 caracteres"):t.length>1e3&&(r=!1,a="A mensagem deve ter no máximo 1000 caracteres"):(r=!1,a="A mensagem é obrigatória")}if(!r){e.classList.add("error");const t=document.createElement("div");t.className="error-message",t.textContent=a,e.parentElement.appendChild(t)}return r}window.utils=utils,document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("form");if(e){const c=e.querySelector('input[name="nome"]'),m=e.querySelector('input[name="email"]'),l=e.querySelector('input[name="assunto"]'),d=e.querySelector('textarea[name="mensagem"]'),u=e.querySelector('button[type="submit"]');function t(e){e.classList.remove("error");const t=e.parentElement.querySelector(".error-message");t&&t.remove()}function r(e){const r=e.value.trim();let a=!0,s="";return e===c?r?r.length<3?(a=!1,s="O nome deve ter pelo menos 3 caracteres"):/^[a-zA-ZÀ-ÿ\s]+$/.test(r)||(a=!1,s="O nome deve conter apenas letras e espaços"):(a=!1,s="O nome é obrigatório"):e===m?r?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(a=!1,s="Digite um e-mail válido"):(a=!1,s="O e-mail é obrigatório"):e===l?r?r.length<5&&(a=!1,s="O assunto deve ter pelo menos 5 caracteres"):(a=!1,s="O assunto é obrigatório"):e===s&&(r?r.length<10&&(a=!1,s="A mensagem deve ter pelo menos 10 caracteres"):(a=!1,s="A mensagem é obrigatória")),a?t(e):function(e,r){t(e),e.classList.add("error");const a=document.createElement("div");a.className="error-message",a.textContent=r,e.parentElement.appendChild(a)}(e,s),a}function a(){const e=[c,m,l,d].every((e=>r(e)));return u.disabled=!e,e}[c,m,l,d].forEach((e=>{e.addEventListener("blur",(function(){r(e),a()}))})),e.addEventListener("submit",(function(t){if(t.preventDefault(),a())alert("Mensagem enviada com sucesso!"),e.reset(),u.disabled=!0;else{const t=e.querySelector(".error");t&&t.focus()}})),u.disabled=!0}const s=document.querySelectorAll(".faq-item");s.length>0&&s.forEach((e=>{e.querySelector(".faq-question").addEventListener("click",(()=>{const t=e.classList.contains("active");s.forEach((e=>{e.classList.remove("active")})),t||e.classList.add("active")}))}));const n=document.querySelector("header");window.scrollY;window.addEventListener("scroll",(function(){window.scrollY>60?n.classList.add("shrink"):n.classList.remove("shrink")}));const o=document.querySelector(".menu-toggle"),i=document.querySelector("#main-menu");o&&i&&(o.addEventListener("click",(()=>{const e="true"===o.getAttribute("aria-expanded");o.setAttribute("aria-expanded",!e),i.setAttribute("aria-hidden",e),document.body.style.overflow=e?"":"hidden"})),document.addEventListener("click",(e=>{o.contains(e.target)||i.contains(e.target)||(o.setAttribute("aria-expanded","false"),i.setAttribute("aria-hidden","true"),document.body.style.overflow="")})),i.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(()=>{o.setAttribute("aria-expanded","false"),i.setAttribute("aria-hidden","true"),document.body.style.overflow=""}))})))}));