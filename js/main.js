const utils={validateForm:e=>{const t={};for(const[r,a]of e.entries())a.trim()||(t[r]="Este campo é obrigatório");if(e.get("email")){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.get("email"))||(t.email="Email inválido")}return{isValid:0===Object.keys(t).length,errors:t}},storage:{set:(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return console.error("Erro ao salvar no localStorage:",e),!1}},get:e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return console.error("Erro ao ler do localStorage:",e),null}},remove:e=>{try{return localStorage.removeItem(e),!0}catch(e){return console.error("Erro ao remover do localStorage:",e),!1}}},showMessage:(e,t="error")=>{const r=document.createElement("div");r.className=`message message-${t}`,r.textContent=e,document.body.appendChild(r),setTimeout((()=>{r.remove()}),3e3)},date:{formatDateTime:e=>new Date(e).toLocaleString("pt-BR")},geo:{calculateDistance:(e,t,r,a)=>{const o=(r-e)*Math.PI/180,s=(a-t)*Math.PI/180,n=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)))},calculateCenter:e=>({lat:e.reduce(((e,t)=>e+t.lat),0)/e.length,lng:e.reduce(((e,t)=>e+t.lng),0)/e.length})}};window.utils=utils,document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("form").forEach((e=>{e.addEventListener("submit",(function(e){e.preventDefault();const t=new FormData(this),r=utils.validateForm(t);r.isValid?(utils.showMessage("Mensagem enviada com sucesso! Em breve entraremos em contato.","success"),this.reset()):Object.entries(r.errors).forEach((([e,t])=>{const r=this.querySelector(`[name="${e}"]`);r&&(utils.showMessage(t),r.focus())}))}))}));const e=document.querySelectorAll(".faq-item");e.length>0&&e.forEach((t=>{t.querySelector(".faq-question").addEventListener("click",(()=>{const r=t.classList.contains("active");e.forEach((e=>{e.classList.remove("active")})),r||t.classList.add("active")}))}))}));